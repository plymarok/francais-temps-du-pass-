<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Passés du récit — Coach & Révisions (4e)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Passés du récit — le coach ultime</h1>
    <p>Reconnais en un clin d’œil : <span class="imparfait">🌸 Imparfait</span> · <span class="passe-simple">💚 Passé simple</span> · <span class="plus-que-parfait">🟧 Plus-que-parfait</span> · <span class="passe-anterieur">🔷 Passé antérieur</span></p>
  </header>

  <nav aria-label="Sections">
    <button class="active" data-go="#coach">Coach</button>
    <button data-go="#cours">Cours</button>
    <button data-go="#qcm">QCM (10)</button>
    <button data-go="#transfo">Transformations (10)</button>
    <button data-go="#ecriture">Écriture guidée (10)</button>
    <button data-go="#memo">Fiche mémo</button>
  </nav>

  <main>
    <section id="coach" class="card">
      <h2>🤖 Coach de reconnaissance (3 étapes – 5 secondes)</h2>
      <ol class="coach-steps">
        <li><b>Regarde la forme du verbe</b> : terminaisons, auxiliaire + participe ?</li>
        <li><b>Note le rôle</b> : décor/habitude ou événement qui fait avancer ?</li>
        <li><b>Cherche les indices</b> : déjà, jamais, pas encore, quand/lorsque/dès que…</li>
      </ol>

      <div class="coach-grid">
        <div class="coach-card imparfait-border">
          <h3 class="imparfait">🌸 Imparfait</h3>
          <ul>
            <li><b>Indices forme :</b> -ais, -ais, -ait, -ions, -iez, -aient</li>
            <li><b>Rôle :</b> décor, habitude, action de fond/en cours</li>
            <li><b>Astuce éclair :</b> “Peut durer / être interrompu” → 🌸</li>
          </ul>
        </div>
        <div class="coach-card passe-simple-border">
          <h3 class="passe-simple">💚 Passé simple</h3>
          <ul>
            <li><b>Indices forme :</b> -ai/-as/-a/-âmes/-âtes/-èrent ; -is/-is/-it/-îmes/-îtes/-irent ; -us/-us/-ut/-ûmes/-ûtes/-urent</li>
            <li><b>Rôle :</b> action ponctuelle, successions, premier plan</li>
            <li><b>Astuce éclair :</b> “Ça claque / avance l’histoire” → 💚</li>
          </ul>
        </div>
        <div class="coach-card pqp-border">
          <h3 class="plus-que-parfait">🟧 Plus-que-parfait</h3>
          <ul>
            <li><b>Indices forme :</b> <i>avais/avait/avions/aviez/avaient</i> ou <i>étais/était/étions/étiez/étaient</i> + participe</li>
            <li><b>Rôle :</b> antériorité (action déjà achevée avant une autre)</li>
            <li><b>Astuce éclair :</b> “déjà avant” → 🟧</li>
          </ul>
        </div>
        <div class="coach-card pa-border">
          <h3 class="passe-anterieur">🔷 Passé antérieur</h3>
          <ul>
            <li><b>Indices forme :</b> <i>eus/eut/eurent</i> ou <i>fus/fut/fûmes/fûtes/furent</i> + participe</li>
            <li><b>Rôle :</b> antériorité <u>immédiate</u> liée au passé simple (souvent après <i>quand, lorsque, dès que, après que</i>)</li>
            <li><b>Astuce éclair :</b> “juste avant + style soutenu” → 🔷</li>
          </ul>
        </div>
      </div>

      <div class="coach-tester">
        <h3>Test express</h3>
        <p>Colle une phrase avec un verbe conjugué : le coach détecte le temps et t’explique.</p>
        <textarea id="coachInput" rows="2" placeholder="Ex. : Lorsqu’il eut terminé, il partit."></textarea>
        <button class="btn" id="coachBtn">Analyser</button>
        <div id="coachOut" class="feedback" style="display:none"></div>
      </div>
    </section>

    <section id="cours" class="card">
      <h2>📖 Le cours</h2>
      <div id="coursContainer"></div>
    </section>

    <section id="qcm" class="card">
      <h2>❓ QCM (10)</h2>
      <p class="legend">Légende : <span class="imparfait">🌸 Imparfait</span> · <span class="passe-simple">💚 Passé simple</span> · <span class="plus-que-parfait">🟧 Plus-que-parfait</span> · <span class="passe-anterieur">🔷 Passé antérieur</span></p>
      <div class="qcm-controls">
        <label>Filtrer
          <select id="filter">
            <option value="all">Toutes</option>
            <option value="imparfait">Imparfait (🌸)</option>
            <option value="passe-simple">Passé simple (💚)</option>
            <option value="plus-que-parfait">Plus-que-parfait (🟧)</option>
            <option value="passe-anterieur">Passé antérieur (🔷)</option>
          </select>
        </label>
        <button id="shuffle">Mélanger</button>
        <button id="reset" class="secondary">Réinitialiser</button>
        <div class="progress">
          <span id="scoreTxt">Score : 0 / 10</span>
          <div class="bar"><span id="barFill"></span></div>
        </div>
      </div>
      <div id="qcmContainer"></div>
    </section>

    <section id="transfo" class="card">
      <h2>🔄 Transformations (10)</h2>
      <div id="transfoContainer"></div>
    </section>

    <section id="ecriture" class="card">
      <h2>✍️ Écriture guidée (10)</h2>
      <div id="ecritureContainer"></div>
    </section>

    <section id="memo" class="card">
      <h2>🧭 Fiche mémo — valeurs et terminaisons</h2>
      <div id="memoContainer"></div>
    </section>
  </main>

  <footer>Code couleur : <span class="imparfait">🌸 Imparfait</span> · <span class="passe-simple">💚 Passé simple</span> · <span class="plus-que-parfait">🟧 Plus-que-parfait</span> · <span class="passe-anterieur">🔷 Passé antérieur</span></footer>

  <script src="app.js" defer></script>
</body>
</html>
